# 函数指针

**函数指针它允许我们将函数作为参数传递给其他函数，或者将函数赋值给变量。函数指针是一个指向函数的指针，它存储了函数的地址，可以通过这个指针来调用函数**

## 定义函数指针

函数指针的定义需要指定函数的返回类型、参数类型以及指针的名称。基本的定义格式如下：

```
返回类型 (*指针名称)(参数类型列表);
```

例如，定义一个指向接受两个整数参数并返回整数的函数的指针

```
int (*myFuncPtr)(int, int);
```

## 赋值函数指针

函数指针可以通过指向一个具有相同签名的函数来赋值。例如，我们有一个函数 `add`

```
int add(int a, int b) {
    return a + b;
}
```

可以将这个函数的地址赋值给 `myFuncPtr`

```
myFuncPtr = add;
```

## 调用函数指针

通过函数指针调用函数的方式与直接调用函数类似，只是需要在指针名称前加上 `(*指针名称)` 的语法

```
int result = myFuncPtr(3, 5); // 调用 add(3, 5)
```

## 函数指针作为参数

函数指针可以作为参数传递给其他函数，这使得我们可以将函数作为参数传递，实现高阶函数。例如，定义一个函数 `apply`，它接受一个函数指针和两个整数参数

```
int apply(int (*func)(int, int), int a, int b) {
    return func(a, b);
}
```

可以将 add 函数作为参数传递给 apply

```
int result = apply(add, 3, 5); // 等价于 add(3, 5)
实际上执行的是：
int result = apply(func = add, 3, 5);			// 函数指针赋值，指针指向了add函数
```

## 函数指针与Lambda表达式

在C++11及以后的版本中，函数指针也可以指向Lambda表达式。Lambda表达式是一种匿名函数，可以捕获外部变量。例如：

```
int x = 10;
int (*myLambda)(int) = [x](int y) { return x + y; };
```



PS：

**函数指针只能指向具有相同签名的函数。如果函数的参数类型或返回类型不匹配，将导致编译错误**

